{% extends 'base.html' %}
{% load static %}

{% block title %}
Save Result - {{ block.super }}
{% endblock %}

{% block styles %}
{% endblock %}


{% block content %}

<section>
    <div class="container">
        <form method="post">
            {% csrf_token %}
            <div id="editor_holder"></div>
            <div class="form-group row mt-5">
                <button type="submit" name="submit" class="btn btn-primary border-0 p-2 col-10 col-sm-8 col-md-6"
                    style="display:block; margin:auto">Save</button>
            </div>
        </form>
    </div>
</section>

{% endblock %}

{% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/@json-editor/json-editor@latest/dist/jsoneditor.min.js"></script>
<script type="text/javascript">
    const element = document.getElementById('editor_holder');
    const editor = new JSONEditor(element, {
        iconlib: 'fontawesome5',
        no_additional_properties : true,
        disable_collapse: true,
        disable_edit_json: true,
        disable_properties: true,
        theme: 'bootstrap4',
        schema: {{ result_schema|safe }}
    });
</script>
{% endblock %}